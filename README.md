# recipe-app-api
Recipe API project

## References
- [django-docker](https://github.com/jaimesHub/py-notes/tree/main/django/django-docker/README.md)

## py-notes
- Section 5: Project Setup
    - Docker and Django
        - Docker's `benefits`
            - Consistent dev and prod environment
            - Easier collaboration
            - Capture all dependencies as code
            - Easier cleanup
            - Save a LOT of time
        - `Drawbacks`
            - VSCode unable to access interpreter Python
            - More difficult to use intergrated features
                - Linting tools
                - Interactive debugger
        - `Benefits` > Drawbacks
        - `Configure` Docker
            - Create a `Dockerfile`
            - Lists `steps` for `creating` image
                - Choose a base `image` (python)
                - Install `dependencies`
                - Setup users
        - Docker Compose
            - How our Docker image(s) should be used
                - It defines how Docker images should be used to run out development server
            - Define our `services`
                - Name (eg: app)
                - Port mapping
                - Volume mappings
        - Using Docker Compose
            - Run all commands through Docker Compose
                - `docker-compose run --rm app sh -c "python manage.py collectstatic"`
            - Docker-compose `syntax`
                - `docker-compose`: runs a Docker Compose command
                - `run`: will start a specific container defined in config
                - `--rm`: removes the container
                - `app`: is the name of the service
            - Command that runs on the container
                - `sh -c`: passes in a shell command
                - `*rest_string`: Command to run inside container

    - Follow along:
        - Define Python `requirements.txt` file
        - pypi
        - Creating `Dockerfile` for project
            - `FROM`
                - find python image on `hub.docker.com`
            - `LABEL`
            - `ENV`
            - `COPY`: local machine -> docker image
            - `COPY`: local machine -> app/ inside the container
            - `WORKDIR`
                - is the working directory, it's the default directory that will commands are going to be run from when we run commands on our Docker image.
                - run from the `app` working directory on the container
            - `EXPOSE`
            - `RUN`
            - `ENV`
                - specify the full path of venv
            - `USER`
                - who use in the container
            - Recommendation: Using venv inside Docker images
            - Don't run app using the `root` user
            - Keep image is lightweight as possible
        - add `.dockerignore`
            - to exclude any files that Docker doesn't need to be concerned with
        - building our image on recipe-app-api/
            - command: `docker build .`
            - if `error` then create a `app` directory
    - Creating `docker-compose` configuration
        - creating `docker-compose.yml`
            - `version`
            - `services`
        - run command: `docker-compose build` (same as `docker build .`)
    - Linting and Tests
        - What is Linting?
            - Tool to check code formatting
            - Highlights errors, typos, formatting issues
        - How handling Linting
            - Install `flake8` package
            - Run it through Docker Compose
                - example: `docker-compose run --rm app sh -c "flake8"`
                - Error while setting up "flake8" w docker-compose
        - Testing
            - Django test suite
            - Setup tests per Django app
            - Run tests through Docker-compose

    - Configure flake8
        - Creating `requirements.dev.txt`
        - Update `docker-compose.yml`
            - adding `args`
        - Update `Dockerfile`
            - adding `COPY` for `requirements.dev.txt`
            - adding `ARG DEV=false`
            - update `RUN`
                - `if [$DEV="true"];...fi && \`
        - Run: `docker-compose build`
        - Add the configuration needed for our Lintin tool
            - Adding `/app/.flake8`
            - cmd: `docker-compose run --rm app sh -c "flake8"`
                - error: `sh: flake8: not found`
    - Create Django project
        - `docker-compose run --rm app sh -c "django-admin startproject app ."`
    - Run project with Docker Compose
        - Start server: `docker-compose up`
        - Stop server: `Ctrl + C`

- Section 9: Create User Model
    - [Link](https://github.com/jaimesHub/py-notes/tree/main/django/django-docker)
    - [Commit 1: Create user model](https://github.com/jaimesHub/py-notes/commit/a2ffc018535486ed3bca5e8c12b8ba39c8ba1511)
    - [Commit 2: Normalize email addresses](https://github.com/jaimesHub/recipe-app-api/commit/59cdd3afc9206d7fb75390157aea60abccc4e2f0)
    - [Commit 3: Require email input](https://github.com/jaimesHub/recipe-app-api/commit/76a37b75835ddd366bfd21ff221c9e66302a6a3e)
    - [Commit 4: Add supperuser support](https://github.com/jaimesHub/recipe-app-api/commit/18b6d5eba17803ecceb5b83e420fb89379c42f27)

- Section 11: API Documentation
    - [Link](https://github.com/jaimesHub/py-notes/tree/main/django/django-docker)
    - Importance of API documentation
    - Auto docs w DRF: https://github.com/jaimesHub/py-notes/commit/982395f68dca437f6a85cb17fc915a0ad1a691b7
    - Install drf-spectacular: https://github.com/jaimesHub/py-notes/commit/84ff4b75525423905469b9d65a710a6ead25284a
